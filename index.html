<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Ensures text and symbols display correctly -->
  <meta charset="UTF-8" />
  <!-- Makes your site mobile-friendly -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SOC Automation Tool</title>
</head>
<body>
  <h1>SOC Automation - Threat Intel Scanner</h1>

  <!-- Simple navigation links -->
  <nav>
    <a href="index.html">Home</a>
    <a href="history.html">Scan History</a>
    <a href="about.html">About</a>
  </nav>

  <!-- User input form -->
  <form id="threat-form">
    <input type="text" id="input" placeholder="Enter URL, IP, or Domain" required />
    <button type="submit">Scan</button>
  </form>

  <!-- Placeholder for scan results -->
  <div id="results"></div>

  <!-- Page footer -->
  <footer>
    Creator - Fernando J. Alvarado
  </footer>

  <script>
    // Add a submit event listener to the form
    document.getElementById("threat-form").addEventListener("submit", async function (e) {
      // Prevent the default form submission behavior (page reload)
      e.preventDefault();

      // Get the value from the input field
      const input = document.getElementById("input");

      // Send POST request to n8n webhook
      const response = await fetch("https://fjalvarado429.app.n8n.cloud/webhook-test/url-submit", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ url: input }) // Send user input as JSON
        });


      // Find the results div to display messages or output
      const resultsDiv = document.getElementById("results");

      // Temporary message while implementation is pending
      resultsDiv.textContent = "Awaiting implementation...";

      // ðŸ”§ In the future, this is where you'd:
      // - Send the input to an API
      // - Wait for a response
      // - Display results (e.g., threat score, tags, screenshot)
    });
  </script>
</body>
</html>
